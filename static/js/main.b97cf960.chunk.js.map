{"version":3,"sources":["js/reducers/todos.js","js/reducers/visibilityFilter.js","js/reducers/index.js","js/actions/index.js","js/containers/AddTodo.js","js/components/Todo.js","js/components/TodoList.js","js/containers/VisibleTodoList.js","js/components/Link.js","js/containers/FilterLink.js","js/components/Footer.js","js/components/TodoApp.js","index.js"],"names":["todo","state","action","type","id","text","completed","todos","undefined","map","t","visibilityFilter","filter","rootReducer","combineReducers","nextTodoId","AddTodo","input","dispatch","ref","node","onClick","value","trim","connect","Todo","style","textDecoration","TodoList","onTodoClick","key","getVisibleTodos","VisibleTodoList","toggleTodo","Link","active","children","href","e","preventDefault","FilterLink","ownProps","Footer","className","TodoApp","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b97cf960.chunk.js","sourcesContent":["//reducer一号的孩子\nconst todo = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TODO\":\n      return {\n        id: action.id,\n        text: action.text,\n        completed: false,\n      };\n    case \"TOGGLE_TODO\":\n      if (state.id !== action.id) {\n        return state;\n      }\n\n      return {\n        ...state,\n        completed: !state.completed,\n      };\n    default:\n      return state;\n  }\n};\n\n//reducer一号\nconst todos = (state = [], action) => {\n  switch (action.type) {\n    case \"ADD_TODO\":\n      return [\n        ...state,\n        //undefined?\n        todo(undefined, action),\n      ];\n    case \"TOGGLE_TODO\":\n      return state.map((t) => todo(t, action));\n    default:\n      return state;\n  }\n};\n\nexport default todos;\n","//reducer二号\nconst visibilityFilter = (state = \"SHOW_ALL\", action) => {\n  switch (action.type) {\n    case \"SET_VISIBILITY_FILTER\":\n      return action.filter;\n    default:\n      return state;\n  }\n};\n\nexport default visibilityFilter;\n","import { combineReducers } from \"redux\";\nimport todos from \"./todos\";\nimport visibilityFilter from \"./visibilityFilter\";\n\n//reducer大家庭\nconst rootReducer = combineReducers({\n  todos,\n  visibilityFilter,\n});\n\n//为什么不写 {\n//  todos:todos,\n//  visibilityFilter:visibilityFilter\n//  } 一开始写了又删掉了 15集\n\nexport default rootReducer;\n","//action creator\nlet nextTodoId = 0;\nexport const addTodo = (text) => {\n  return {\n    type: \"ADD_TODO\",\n    id: nextTodoId++,\n    text: text,\n  };\n};\n\n//action creator\nexport const setVisibilityFilter = (filter) => {\n  return {\n    type: \"SET_VISIBILITY_FILTER\",\n    filter,\n  };\n};\n\n//action creator\nexport const toggleTodo = (id) => {\n  return {\n    type: \"TOGGLE_TODO\",\n    id,\n  };\n};\n\n//这里还有一个visibilityfilter的升级版本要写\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { addTodo } from \"../actions/index\"; //action creator\n\n// either presentational or container component\n\nlet AddTodo = ({ dispatch }) => {\n  let input;\n  return (\n    <div>\n      <input\n        ref={(node) => {\n          input = node;\n        }}\n      />\n      <button\n        onClick={() => {\n          if (!input.value.trim()) {\n            return;\n          }\n          dispatch(addTodo(input.value));\n          input.value = \"\";\n        }}\n      >\n        Add Todo\n      </button>\n    </div>\n  );\n};\nAddTodo = connect()(AddTodo);\n\nexport default AddTodo;\n\n// const AddTodo = ({ dispatch }) => {\n//   let input;\n\n//   return (\n//     <div>\n//       <form\n//         onSubmit={(e) => {\n//           e.preventDefault();\n//           if (!input.value.trim()) {\n//             return;\n//           }\n//           dispatch(addTodo(input.value));\n//           input.value = \"\";\n//         }}\n//       >\n//         <input ref={(node) => (input = node)} />\n//         <button type=\"submit\">Add Todo</button>\n//       </form>\n//     </div>\n//   );\n// };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n//todo functional component, presentational component\n//doesn't specify any behavior\n//doesn't know what to do\n//specifies how the component looks in different cases\nconst Todo = ({ onClick, completed, text }) => (\n  <li\n    onClick={onClick}\n    style={{\n      textDecoration: completed ? \"line-through\" : \"none\",\n    }}\n  >\n    {text}\n  </li>\n);\n\nTodo.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  completed: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n};\n\nexport default Todo;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Todo from \"./Todo\";\n\n//presentational component\nconst TodoList = ({ todos, onTodoClick }) => (\n  <ol>\n    {todos.map((todo) => (\n      <Todo key={todo.id} {...todo} onClick={() => onTodoClick(todo.id)} />\n    ))}\n  </ol>\n);\n\n//\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      completed: PropTypes.bool.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  onTodoClick: PropTypes.func.isRequired,\n};\n\nexport default TodoList;\n","import { connect } from \"react-redux\";\nimport TodoList from \"../components/TodoList\";\nimport { toggleTodo } from \"../actions/index\";\n\nconst getVisibleTodos = (todos, filter) => {\n  switch (filter) {\n    case \"SHOW_ALL\":\n      return todos;\n    case \"SHOW_COMPLETED\":\n      return todos.filter((t) => t.completed);\n    case \"SHOW_ACTIVE\":\n      return todos.filter((t) => !t.completed);\n    default:\n      return todos;\n  }\n};\n\nconst mapStateToTodoListProps = (state) => {\n  return {\n    todos: getVisibleTodos(state.todos, state.visibilityFilter),\n  };\n};\nconst mapDispatchToTodoListProps = (dispatch) => {\n  return {\n    onTodoClick: (id) => dispatch(toggleTodo(id)),\n    //action\n  };\n};\nconst VisibleTodoList = connect(\n  mapStateToTodoListProps,\n  mapDispatchToTodoListProps\n)(TodoList);\n\nexport default VisibleTodoList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n//presentational component\n// provides data and behavior to presentational component\n//children从哪里传入的？\nconst Link = ({ active, children, onClick }) => {\n  if (active) {\n    return <span>{children}</span>;\n  }\n  return (\n    <a\n      href=\"#\"\n      onClick={(e) => {\n        e.preventDefault();\n        onClick();\n      }}\n    >\n      {children}\n    </a>\n  );\n};\n\nLink.propTypes = {\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\n// const Link = ({ active, children, onClick }) => (\n//   <button\n//     onClick={onClick}\n//     disabled={active}\n//     style={{\n//       marginLeft: \"4px\",\n//     }}\n//   >\n//     {children}\n//   </button>\n// );\n\nexport default Link;\n","import { connect } from \"react-redux\";\nimport { setVisibilityFilter } from \"../actions/index\";\nimport Link from \"../components/Link\";\n\nconst mapStateToLinkProps = (state, ownProps) => {\n  return {\n    active: ownProps.filter === state.visibilityFilter,\n  };\n};\nconst mapDispatchToLinkProps = (dispatch, ownProps) => {\n  return {\n    onClick: () => {\n      dispatch(setVisibilityFilter(ownProps.filter));\n    },\n  };\n};\nconst FilterLink = connect(mapStateToLinkProps, mapDispatchToLinkProps)(Link);\n\nexport default FilterLink;\n","import React from \"react\";\nimport FilterLink from \"../containers/FilterLink\";\n\nconst Footer = () => (\n  //这里<FilterLink />居然写三遍???如何简化？\n\n  <div className=\"footer\">\n    {/* <span>Show: </span> */}\n    <FilterLink filter=\"SHOW_ALL\">All</FilterLink>\n\n    <FilterLink filter=\"SHOW_ACTIVE\">Active</FilterLink>\n\n    <FilterLink filter=\"SHOW_COMPLETED\">Completed</FilterLink>\n  </div>\n);\n\nexport default Footer;\n","import React from \"react\";\nimport AddTodo from \"../containers/AddTodo\";\nimport VisibleTodoList from \"../containers/VisibleTodoList\";\nimport Footer from \"./Footer\";\nimport \"./app.css\";\n\n//Dan abramov prefers to turn class components into functional components when possible\nconst TodoApp = () => (\n  <div className=\"app\">\n    <h2>Todo Now</h2>\n    <AddTodo />\n    <VisibleTodoList />\n    <Footer />\n  </div>\n);\n\nexport default TodoApp;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport rootReducer from \"./js/reducers/index\";\nimport TodoApp from \"./js/components/TodoApp\";\nimport \"./index.css\";\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <TodoApp />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n//Dan Abramov suggestions:\n//1. extracting presentational components\n//if there is too much props to pass then\n//2. write container components around to specifies the behavior and reduce the complexity\n"],"sourceRoot":""}